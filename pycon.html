<!DOCTYPE html>
<html>
    <head>
        <title>PyCon Tucano</title>
        <meta charset="utf-8">
        <style>
            @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
            @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
            @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);
        </style>
        <link rel="stylesheet" href="static/remark.css" type="text/css">
    </head>
    <body>
        <textarea id="source">

class: center, middle, inverse

# The road so far on building a web platform for drones

.footnote[By: Jose Benitez]

???

my bio, about
    - who am i, where I come from
    - live close town (where the airport is)
    - graduated as electronics engineer
    - first touch with drones, learning to fly/assemble/program, dynamics
    - started with drones through a friend and thanks to the internet

emotive intro
    - when you see the opportunity to apply knowdledge to real life
    - drones are cool
    - human flying assistant of the physical world

---

# Context
### what is people needing from drones

1. Business expertise 
2. Research group: _air quality project_
3. Pro-human opportunities
4. Technology

???

- teaching while learning (not that good)
- (aerial video, racing, buy/sell, research, other applications)
- group air quality project (any sensor, live data stream, missions)
- human necessities, natural disasters, package delivery, knowledge sharing
- software controllers, network infrastructures, hardware

WHERE THE IDEA OF A PLATFORM CAME
- many applications, specific solutions

---

# Big fish

1. First approach (*where is Python?*)
2. Robust solution - Architecture
3. Marvellous world of Mavlink
4. Why python/django?
5. Why channels (websockets)?
6. Why react/redux?

???

- basic configuration (sensors+arduino+xbee up in a drone)
- mavlink is a protocol...
- python is many places
- keep connection alive is important, dont limit the application
- web interface is made up of components... (oddslingers, monadical)

---

.left-column[
    ## Big fish
### First approach
]

.right-column[
## Data adquisition
* Arduino domination
* Sensor + Transmitter = easy way

## Drone capabilities
* GCS (missions)
* Hardware/Software

## Need for more...
* Python is not the fastest
* Versatile [RPi, PC, Server]
]

???

disadvantages
- more weigth, consumption, extra radio channel

---

.left-column[
    ## Big fish
### First approach
### Architecture
]

.right-column[
## Cloud is heaven
![](media/architecture.png#w100 "System Architecture")
]

???

More tasks: redis, supervisor<br>
4G implementation: started as a standalone project

---

.left-column[
    ## Big fish
### First approach
### Architecture
### Mavlink
]

.right-column[
## Keep talking

MAVLink is a very lightweight messaging protocol for communicating with drones (and between onboard drone components). .red[*]

```python
from pymavlink import mavutil

drone = mavutil.mavlink_connection(**settings.MAVLINK_TUKANO)
drone.wait_heartbeat()

drone.mav.request_data_stream_send(
    drone.target_system,
    drone.target_component,
    mavutil.mavlink.MAV_DATA_STREAM_ALL,  # req_stream_id
    1,  # Rate in Hertz
    1  # Start/Stop
)

```

.footnote[.red[*] From [https://mavlink.io/en/](https://mavlink.io/en/)]

]

???

Mavlink msgs are defined in XML files (dialect)

---

.left-column[
    ## Big fish
### First approach
### Architecture
### Mavlink
### Code languages / frameworks
]

.right-column[
## For platform (RPi-GCS)
* pymavlink
* pyserial (_sensors_)
* redis (_custom messages stack_)
* websocket-client

## For server
* django
* django-channels

## For web interface
* react/redux
]

???
whole bunch of tasks that python makes simple<br>
Sadly browsers dont run python (bryton??)

---

# SITL demo

![web interface](media/web_interface.jpeg)

???

TODO: image/video of demo<br>
Existing platforms (flytbase, virtuxplorer) TODO: describe them<br>

---

# What's next?
1. AI, IoD
2. Live video
3. User accounts (permissions)
4. Social network (real web challenge)

# Q&A

???

break application limits
- The Internet of Drones (IoD) provides the coordinated access to controlled airspace for the Unmanned Aerial Vehicles (called drones).
- AI: behavior detector


        </textarea>
        <script src="static/remark-latest.min.js" type="text/javascript"></script>
        <script>
            var slideshow = remark.create({
                // ratio: '16:9',
                navigation: {
                    scroll: false,
                }
            });
        </script>
    </body>
</html>
