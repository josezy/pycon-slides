<!DOCTYPE html>
<html>
    <head>
        <title>PyCon Tucano</title>
        <meta charset="utf-8">
        <style>
            @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
            @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
            @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);
        </style>
        <link rel="stylesheet" href="static/remark.css" type="text/css">
    </head>
    <body>
        <textarea id="source">

class: center, middle, inverse

# The road so far on building a web platform for drones

.footnote[By: Jose Benitez]

???

my bio, about
    - who am i, where I come from
    - live close town (where the airport is)
    - graduated as electronics engineer
    - first touch with drones, learning to fly/assemble/program, dynamics
    - started with drones through a friend and thanks to the internet

emotive intro
    - drones are cool
    - start watching the world from another point of view
    - difference drone != quadcopter
    - human flying assistant of the physical world
    - when you see the opportunity to apply knowdledge to real life



---
<!-- [[ INTRODUCTION ]] -->


# Context
### what is people needing from drones

1. Business expertise 

![](media/mapping.png#drone-use "3D mapping")

???

- APPS:
    - Photography and filming
    - Advertising
    - Shipping and delivery
    - Rescue operations
    - Farming and agriculture
    - Law enforcement
    - Infrastructure maintenance
    - Wildlife protection
    - Geographic mapping
    - Weather forecasting
    - Entertainment

- Others: racing, buy/sell, research, army

- Teaching while learning (share knowledge was the purpose)

- research group: air quality project
    - any sensor, live data stream, programmed routes-missions

- human necessities, natural disasters, package delivery

- software controllers, network infrastructures, hardware

WHERE THE IDEA OF A PLATFORM CAME
- many applications, specific solutions


---


# Context
### what is people needing from drones

1. Business expertise 

![](media/fumigate.png#drone-use "Food farming")

???

- APPS:
    - Photography and filming
    - Advertising
    - Shipping and delivery
    - Rescue operations
    - Farming and agriculture
    - Law enforcement
    - Infrastructure maintenance
    - Wildlife protection
    - Geographic mapping
    - Weather forecasting
    - Entertainment

- Others: racing, buy/sell, research, army

- Teaching while learning (share knowledge was the purpose)

- research group: air quality project
    - any sensor, live data stream, programmed routes-missions

- human necessities, natural disasters, package delivery

- software controllers, network infrastructures, hardware

WHERE THE IDEA OF A PLATFORM CAME
- many applications, specific solutions


---


# Context
### what is people needing from drones

1. Business expertise 

![](media/security.png#drone-use "Security")

???

- APPS:
    - Photography and filming
    - Advertising
    - Shipping and delivery
    - Rescue operations
    - Farming and agriculture
    - Law enforcement
    - Infrastructure maintenance
    - Wildlife protection
    - Geographic mapping
    - Weather forecasting
    - Entertainment

- Others: racing, buy/sell, research, army

- Teaching while learning (share knowledge was the purpose)

- research group: air quality project
    - any sensor, live data stream, programmed routes-missions

- human necessities, natural disasters, package delivery

- software controllers, network infrastructures, hardware

WHERE THE IDEA OF A PLATFORM CAME
- many applications, specific solutions


---


# Context
### what is people needing from drones

1. Business expertise 

![](media/cargo.png#drone-use "Package delivery")

???

- APPS:
    - Photography and filming
    - Advertising
    - Shipping and delivery
    - Rescue operations
    - Farming and agriculture
    - Law enforcement
    - Infrastructure maintenance
    - Wildlife protection
    - Geographic mapping
    - Weather forecasting
    - Entertainment

- Others: racing, buy/sell, research, army

- Teaching while learning (share knowledge was the purpose)

- research group: air quality project
    - any sensor, live data stream, programmed routes-missions

- human necessities, natural disasters, package delivery

- software controllers, network infrastructures, hardware

WHERE THE IDEA OF A PLATFORM CAME
- many applications, specific solutions


---


# Context
### what is people needing from drones

1. Business expertise 

![](media/delivery.gif#drone-use "Package delivery")

???

- APPS:
    - Photography and filming
    - Advertising
    - Shipping and delivery
    - Rescue operations
    - Farming and agriculture
    - Law enforcement
    - Infrastructure maintenance
    - Wildlife protection
    - Geographic mapping
    - Weather forecasting
    - Entertainment

- Others: racing, buy/sell, research, army

- Teaching while learning (share knowledge was the purpose)

- research group: air quality project
    - any sensor, live data stream, programmed routes-missions

- human necessities, natural disasters, package delivery

- software controllers, network infrastructures, hardware

WHERE THE IDEA OF A PLATFORM CAME
- many applications, specific solutions


---


# Context
### what is people needing from drones

1. Business expertise 

![](media/halloween.jpg#drone-use "Misc application")

???

- APPS:
    - Photography and filming
    - Advertising
    - Shipping and delivery
    - Rescue operations
    - Farming and agriculture
    - Law enforcement
    - Infrastructure maintenance
    - Wildlife protection
    - Geographic mapping
    - Weather forecasting
    - Entertainment

- Others: racing, buy/sell, research, army

- Teaching while learning (share knowledge was the purpose)

- research group: air quality project
    - any sensor, live data stream, programmed routes-missions

- human necessities, natural disasters, package delivery

- software controllers, network infrastructures, hardware

WHERE THE IDEA OF A PLATFORM CAME
- many applications, specific solutions


---


# Context
### what is people needing from drones

1. Business expertise 
2. Research group: _air quality project_

???

- APPS:
    - Photography and filming
    - Advertising
    - Shipping and delivery
    - Rescue operations
    - Farming and agriculture
    - Law enforcement
    - Infrastructure maintenance
    - Wildlife protection
    - Geographic mapping
    - Weather forecasting

- Others: racing, buy/sell, research, army

- Teaching while learning (share knowledge was the purpose)

- research group: air quality project
    - any sensor, live data stream, programmed routes-missions

- human necessities, natural disasters, package delivery

- software controllers, network infrastructures, hardware

WHERE THE IDEA OF A PLATFORM CAME
- many applications, specific solutions



---


# Context
### what is people needing from drones

1. Business expertise 
2. Research group: _air quality project_
3. Pro-human opportunities

![](media/nuba.png#drone-use "Nuba Aerospace")

???

- APPS:
    - Photography and filming
    - Advertising
    - Shipping and delivery
    - Rescue operations
    - Farming and agriculture
    - Law enforcement
    - Infrastructure maintenance
    - Wildlife protection
    - Geographic mapping
    - Weather forecasting

- Others: racing, buy/sell, research, army

- Teaching while learning (share knowledge was the purpose)

- research group: air quality project
    - any sensor, live data stream, programmed routes-missions

- human necessities, natural disasters, package delivery

- software controllers, network infrastructures, hardware

WHERE THE IDEA OF A PLATFORM CAME
- many applications, specific solutions



---


# Context
### what is people needing from drones

1. Business expertise 
2. Research group: _air quality project_
3. Pro-human opportunities
4. Technology

![](media/brands.png#drone-use "Brands")

???

- GPS, embedded systems, computation power, battery/motors/propeller efficiency
- IMU, Gyro, compass, lidar, ultrasonic
- software/algorithms, communication protocols, network infrastructures

- Intelligent Fligth Systems
    - Active Track (Profile, Spotlight, Circle).
    - Draw Waypoints.
    - TapFly.
    - Terrain Follow Mode.
    - Tripod Mode.
    - Gesture Mode.
    - S-Mode (Sport).
    - P-Mode (Position).
    - A-Mode (Attitude).
    - Beginner Mode.
    - Course Lock.
    - Home Lock.
    - Obstacle Avoidance.

WHERE THE IDEA OF A PLATFORM CAME
- many applications, specific solutions



---
<!-- [[ BIG FISH ]] -->


# Big fish

1. First approach (*where is Python?*)
2. Robust solution - Architecture
3. Marvellous world of Mavlink
4. Why python/django?
5. Why channels (websockets)?
6. Why react/redux?

???

- basic configuration (sensors+arduino+xbee up in a drone)
- mavlink is a protocol...
- python is omnipresent
- keep connection alive is important, dont limit the application
- web interface is made up of components... (oddslingers, monadical)



---



.left-column[
    ## Big fish
### First approach
]

.right-column[
## Data adquisition
* Arduino domination
* Sensor + Transmitter = easy way

## Drone capabilities
* GCS (missions)
* Hardware/Software

## Need for more...
* Python is omnipresent
* RPi, PC, Server
]

???

disadvantages
- more weigth, consumption, extra radio channel, redundancy



---



.left-column[
    ## Big fish
### First approach
### Architecture
]

.right-column[
## Cloud is heaven
![](media/architecture.png#w100 "System Architecture")

<br/>
```!
Python's large standard library, commonly cited as one of
its greatest strengths, provides tools suited to many tasks.
```

.footnote[.small[.red[*] from Wikipedia]]

]

???

More tasks: redis, supervisor

where python fits
    - serial [mavlink protocol]
    - internet protocols [websockets, server framework]



---



.left-column[
    ## Big fish
### First approach
### Architecture
### Mavlink
]

.right-column[
## Keep talking

MAVLink is a very lightweight messaging protocol for communicating with drones (and between onboard drone components). .red[*]

```python
from pymavlink import mavutil

drone = mavutil.mavlink_connection(**settings.MAVLINK_TUKANO)
drone.wait_heartbeat()

drone.mav.request_data_stream_send(
    drone.target_system,
    drone.target_component,
    mavutil.mavlink.MAV_DATA_STREAM_ALL,  # req_stream_id
    1,  # Rate in Hertz
    1  # Start/Stop
)

mav_msg = drone.mav.tukano_data_encode('hello drone')
websocket.send(mav_msg.to_json())

```

.footnote[.red[*] From [https://mavlink.io/en/](https://mavlink.io/en/)]

]

???

Mavlink msgs are defined in XML files (dialect)



---



.left-column[
    ## Big fish
### First approach
### Architecture
### Mavlink
### Code languages / frameworks
]

.right-column[
## For platform (RPi-GCS)
* pymavlink
* pyserial (_sensors_)
* redis (_custom messages stack_)
* websocket-client

## For server
* django
* django-channels
* channels-redis
* asyncio
* daphne

## For web interface
* react/redux
* mapbox
]

???

- whole bunch of tasks that python makes simple
- Sadly browsers dont run python (bryton??)



---
<!-- [[ ENDING ]] -->


# SITL demo

![](media/web_interface.png#web-img "Web Interface")

???

TODO: image/video of demo<br>
Existing platforms (flytbase, virtuxplorer) TODO: describe them<br>



---



# What's next?
1. AI, IoD
2. Video Streaming
3. User accounts (authentication)
4. Social networks integration

# Q&A

???

break application limits
- The Internet of Drones (IoD) provides the coordinated access to controlled airspace for the Unmanned Aerial Vehicles (called drones).
- AI: behavior detector, search and rescue labors


        </textarea>
        <script src="static/remark-latest.min.js" type="text/javascript"></script>
        <script>
            var slideshow = remark.create({
                // ratio: '16:9',
                slideNumberFormat: '',
                navigation: {
                    scroll: false,
                }
            });
        </script>
    </body>
</html>
